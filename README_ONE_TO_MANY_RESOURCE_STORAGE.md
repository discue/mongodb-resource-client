<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## ConstructorOptions

### Properties

*   `url` **[String][1]** url to mongo instance
*   `databaseName` **[string][1]?** name of the mongodb database
*   `collectionName` **[string][1]** name of the mongodb collection used to store the resources
*   `resourceName` **[string][1]** name of the resource e.g. users, customers, topics, shipments
*   `enableTwoWayReferences` **[string][1]** true if documents should also store references to their parents e.g. student have references to their schools

### Examples

```javascript
const { OneToManyResourceStorage } = require('./@discue/mongodb-resource-client')
const oneToManyResourceStorage = new OneToManyResourceStorage({
  url: 'mongodb://127.0.0.1:27017',
  collectionName: 'api_clients',
  resourceName: 'listeners'
  enableTwoWayReferences: true
})
```

## OneToManyResourceStorage

Manages relationships between entities in a more decoupled way by keep storing
entities in separate collections and using references to establish an relationship
between both. This way students can be queried independently of an university,
while all studies of a university can still be looked up via the stored reference.

The references between both collections are kept up-to-date. Deleting a document,
causes the reference to be deleted in the other entity. Adding a document
causes a reference to be updated, too.

<strong>Students collection</strong>

```json
{
  _id: 1828391,
  name: 'Miles Morales',
},
{
  _id: 4451515,
  name: 'Bryan Jenkins',
}
```

<strong>Universities collection</strong>

```json
{
  name: 'University Munich',
  students: [1828391]
}
{
  name: 'University Stuttgart',
  students: [4451515]
}
```

## exists

Returns true if a resource with given ids exists.

### Parameters

*   `resourceIds` **([String][1] | [Array][2]<[String][1]>)**&#x20;

Returns **[boolean][3]**&#x20;

## get

Returns a resource by ids.

### Parameters

*   `resourceIds` **([String][1] | [Array][2]<[String][1]>)** resource ids that will added to the resource path i.e. /users/${id}/documents/${id}

Returns **[Object][4]**&#x20;

## getAll

Returns all resources.

### Parameters

*   `resourceIds` **([String][1] | [Array][2]<[String][1]>)** resource ids that will added to the resource path i.e. /users/${id}/documents/${id}

Returns **[Array][2]<[Object][4]>**&#x20;

## create

Add a resource to a collection by ids.

### Parameters

*   `resourceIds` **([String][1] | [Array][2]<[String][1]>)** resource ids that will added to the resource path i.e. /users/${id}/documents/${id}
*   `resource` **[Object][4]** the resource to be stored

## update

Updates a resource by ids

### Parameters

*   `resourceIds` **([String][1] | [Array][2]<[String][1]>)** resource ids that will added to the resource path i.e. /users/${id}/documents/${id}
*   `update` **[Object][4]** values that should be updated

## delete

Deletes a resource by ids

### Parameters

*   `resourceIds` **([String][1] | [Array][2]<[String][1]>)** resource ids that will added to the resource path i.e. /users/${id}/documents/${id}

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
