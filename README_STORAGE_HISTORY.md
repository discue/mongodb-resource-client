<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## ConstructorOptions

Options for class constructor

### Properties

*   `url` **[String][1]?** url to mongo instance. Can be null if client is set
*   `client` **MongoClient?** configured mongo client to use. Can be null if url is set
*   `databaseName` **[string][1]?** name of the mongodb database
*   `collectionName` **[string][1]** name of the mongodb collection used to store the resources
*   `usageEventPrefix` **[string][1]** the usageEventPrefix of the target storage module
*   `connectTimeout` **[number][2]?** the connect timeout of the mongo db client if client was not passed

### Examples

```javascript
const { EventEmiter } from 'events'
const { OneToFewResourceStorage, ResourceStorageHistory } = require('@discue/mongodb-resource-client')

const eventEmitter = new EventEmitter()
const collectionName = 'api_clients'
const url = 'mongodb://127.0.0.1:27017'

const oneToFewResourceStorage = new OneToFewResourceStorage({
  url,
  collectionName,
  eventEmitter
})

const history = new ResourceStorageHistory({
  url,
  collectionName,
  usageEventPrefix: oneToFewResourceStorage.usageEventPrefix
  eventEmitter
})
history.listenForStorageEvents()
```

## ResourceStorageHistory

Simple resource class that will listen to storage event of the given **eventEmitter** to populate a history collection / table.

## listenForStorageEvents

Activate listening for storage events to monitor changes of target storage resource to
populate the history table.

## close

Closes the database client

Returns **void**&#x20;

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number
